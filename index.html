<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>å—éƒ¨ç”ºãƒ­ãƒ¼ã‚½ãƒ³ æ¥­å‹™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
  * { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --font-small: 11px;
    --font-medium: 13px;
    --font-large: 15px;
  }

  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #f5f5f5;
    color: #111;
    line-height: 1.6;
    font-size: var(--font-small);  /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼šå° */
  }
  body.font-medium {
    font-size: var(--font-medium);
  }
  body.font-large {
    font-size: var(--font-large);
  }

  .app {
    max-width: 1400px;
    margin: 0 auto;
    padding-bottom: 80px;
  }

  /* ===== ä¸Šéƒ¨ãƒ˜ãƒƒãƒ€ãƒ¼ ===== */
  header {
    position: sticky;
    top: 0;
    z-index: 10;
    background: #111;
    color: #fff;
    padding: 10px 14px;
  }

  .app-header {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  header h1 {
    font-size: 1.45em;
    font-weight: 600;
  }
  header p {
    font-size: 1em;
    opacity: 0.85;
    margin-top: 2px;
  }

  .app-header-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  /* ===== å·¦ä¸Š DMMé¢¨ 9ãƒ‰ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ ===== */
  .app-menu-btn {
    border: none;
    background: transparent;
    padding: 4px;
    border-radius: 999px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
  .app-menu-btn:hover {
    background: rgba(255,255,255,0.1);
  }
  .dots-grid {
    display: grid;
    grid-template-columns: repeat(3, 4px);
    grid-auto-rows: 4px;
    gap: 3px;
  }
  .dots-grid span {
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: #eee;
  }

  /* ãƒŠãƒ“ï¼ˆæ™‚é–“å¸¯ã‚¸ãƒ£ãƒ³ãƒ—ï¼‰ */
  .nav {
    display: flex;
    overflow-x: auto;
    gap: 6px;
    padding: 8px 10px 4px;
    background: #222;
    scrollbar-width: none;
  }
  .nav::-webkit-scrollbar { display: none; }
  .nav a {
    flex: 0 0 auto;
    padding: 4px 8px;
    font-size: 1em;
    border-radius: 999px;
    border: 1px solid #555;
    color: #eee;
    text-decoration: none;
    white-space: nowrap;
  }
  .nav a:hover {
    background: #fff;
    color: #111;
  }

  /* æ–‡å­—ã‚µã‚¤ã‚ºåˆ‡ã‚Šæ›¿ãˆãƒãƒ¼ï¼ˆæœ¬ä½“ï¼‰ */
  .font-size-selector {
    display: flex;
    gap: 6px;
    padding: 6px 10px 4px;
    background: #111;
    border-top: 1px solid #333;
  }
  .font-size-selector button {
    padding: 3px 10px;
    font-size: 0.95em;
    background: #222;
    border: 1px solid #555;
    border-radius: 999px;
    color: #eee;
    cursor: pointer;
  }
  .font-size-selector button:hover {
    background: #444;
  }
  .font-size-selector button.active {
    background: #fff;
    color: #111;
    border-color: #fff;
  }

  main { padding: 10px 12px 20px; }

  .slot {
    margin-bottom: 12px;
    background: #fff;
    border-radius: 10px;
    padding: 10px 10px 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.06);
  }

  .slot-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 4px;
    border-bottom: 1px solid #eee;
    padding-bottom: 4px;
  }
  .slot-title {
    font-size: 1.27em;
    font-weight: 600;
  }
  .slot-note {
    font-size: 0.9em;
    color: #666;
  }

  .tasks-group {
    margin-top: 6px;
  }
  .tasks-group h3 {
    font-size: 1.1em;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    margin-bottom: 4px;
  }
  .badge {
    font-size: 0.9em;
    padding: 1px 6px;
    border-radius: 999px;
  }
  .badge-a {
    background: #111;
    color: #fff;
  }
  .badge-b {
    background: #e0e0e0;
    color: #333;
  }

  ul.tasks {
    list-style: none;
    padding-left: 10px;
    border-left: 2px solid #111;
    margin-bottom: 4px;
  }
  ul.tasks.b {
    border-left-color: #bbb;
  }

  .task-item {
    display: flex;
    align-items: flex-start;
    gap: 6px;
    font-size: 1em;
    padding: 2px 0;
  }
  .task-item input[type="checkbox"] {
    margin-top: 2px;
  }
  .task-text {
    flex: 1;
  }

  .footer-note {
    font-size: 0.9em;
    color: #666;
    padding: 6px 4px 20px;
    text-align: center;
  }

  /* ãŠçŸ¥ã‚‰ã›ãƒ»å¼•ãç¶™ãç”¨ */
  .info-list {
    list-style: none;
    font-size: 1em;
    padding-left: 4px;
  }
  .info-list li {
    padding: 2px 0;
  }

  .handover {
    margin-top: 4px;
  }
  .handover-title {
    font-size: 1.18em;
    font-weight: 600;
    margin-bottom: 4px;
  }
  .handover-note {
    font-size: 0.9em;
    color: #666;
    margin-bottom: 4px;
  }

  .handover-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    align-items: center;
  }

  .handover-chips-primary,
  .handover-chips-extra {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
  }
  .handover-chips-extra {
    width: 100%;
    margin-top: 4px;
  }
  .handover-chips-extra.is-hidden {
    display: none;
  }

  .handover-log {
    list-style: none;
    font-size: 1em;
    border-top: 1px dashed #ddd;
    padding-top: 4px;
  }
  .handover-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2px 0;
  }
  .handover-text {
    flex: 1;
    margin-right: 6px;
  }
  .handover-time {
    font-size: 0.9em;
    color: #666;
    margin-right: 4px;
  }
  .handover-remove {
    border: none;
    background: transparent;
    font-size: 1.1em;
    cursor: pointer;
    color: #999;
  }
  .handover-remove:hover {
    color: #f33;
  }

  .handover-clear {
    margin-top: 4px;
    text-align: right;
  }
  .handover-clear button {
    border: none;
    background: #eee;
    border-radius: 999px;
    padding: 2px 8px;
    font-size: 0.9em;
    cursor: pointer;
  }

  /* ç«¯æœ«ãƒ©ãƒ™ãƒ« */
  .device-label-bar {
    margin-top: 8px;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
    font-size: 12px;
    padding: 0 10px;
  }
  .device-label-title {
    font-weight: 600;
  }
  .device-label-display {
    padding: 2px 8px;
    border-radius: 999px;
    background: #222;
    color: #fff;
    font-size: 11px;
  }
  .device-label-input {
    flex: 1;
    min-width: 140px;
    max-width: 220px;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid #ccc;
    font-size: 12px;
  }
  .device-label-save-btn {
    padding: 4px 10px;
    border-radius: 999px;
    border: none;
    font-size: 12px;
    background: #1f7aec;
    color: #fff;
    cursor: pointer;
  }
  .device-label-save-btn:hover {
    opacity: 0.9;
  }

  /* ä»Šã®æ™‚é–“å¸¯ã‚¸ãƒ£ãƒ³ãƒ—ãƒãƒŠãƒ¼ */
  .jump-banner {
    margin: 14px 10px 0;
    padding: 10px 14px;
    border-radius: 999px;
    background: #fff7e5;
    border: 1px solid #ffd48a;
    display: flex;
    align-items: center;
    gap: 12px;
    justify-content: flex-end;
  }
  .jump-banner-note {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #c25a00;
    flex: 1;
  }
  .jump-banner-icon {
    font-size: 18px;
    line-height: 1;
  }
  .jump-banner-text {
    line-height: 1.5;
  }
  .jump-btn {
    background: #111;
    color: #fff;
    padding: 8px 16px;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    font-size: 13px;
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.2;
    box-shadow: 0 2px 4px rgba(0,0,0,0.16);
    transition: transform 0.08s ease, box-shadow 0.08s ease;
  }
  .jump-btn-main {
    font-weight: 600;
  }
  .jump-btn-sub {
    font-size: 10px;
    opacity: 0.9;
  }
  .jump-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 6px rgba(0,0,0,0.22);
  }
  .jump-btn:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0,0,0,0.18);
  }
  @media (max-width: 640px) {
    .jump-banner {
      flex-direction: column;
      align-items: flex-start;
      border-radius: 16px;
    }
    .jump-btn {
      width: 100%;
      align-items: center;
    }
    .sp-only {
      display: inline;
    }
  }
  .sp-only {
    display: none;
  }

  /* å¼•ãç¶™ãï¼šã‚‚ã£ã¨è¡¨ç¤ºãƒœã‚¿ãƒ³ */
  .handover-chips-toggle {
    margin-left: auto;
    padding: 6px 14px;
    font-size: 12px;
    color: #a05a00;
    background: #fff7e5;
    border: 1px solid #ffc27a;
    border-radius: 20px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
    transition: all 0.2s ease;
  }
  .handover-chips-toggle:hover {
    background: #ffe9c6;
    box-shadow: 0 3px 6px rgba(0,0,0,0.12);
  }
  .handover-chips-toggle span.arrow {
    display: inline-block;
    transition: transform 0.25s ease;
  }
  .handover-chips-toggle.open {
    background: #ffe0b2;
    border-color: #ffb74d;
    color: #8d4b00;
  }
  .handover-chips-toggle.open span.arrow {
    transform: rotate(180deg);
  }

  /* ã‚·ãƒ•ãƒˆè¡¨ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ */
  .shift-shortcut {
    margin: 8px 10px 0;
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
    font-size: 11px;
  }
  .shift-btn {
    background: #fff;
    color: #111;
    border-radius: 999px;
    border: 1px solid #ddd;
    padding: 4px 10px;
    font-size: 12px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 4px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.08);
  }
  .shift-btn:hover {
    background: #f5f5f5;
  }
  .shift-btn:disabled {
    opacity: 0.5;
    cursor: default;
  }
  .shift-note {
    color: #777;
    font-size: 10px;
  }

  /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ãƒœã‚¿ãƒ³å…±é€š */
  .btn-row {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }
  .btn-secondary {
    padding: 4px 10px;
    font-size: 12px;
    background: #222;
    border: 1px solid #555;
    border-radius: 999px;
    color: #eee;
    cursor: pointer;
  }
  .btn-secondary:hover {
    background: #444;
  }
  .btn-secondary.active {
    background: #111;
    color: #fff;
    border-color: #fff;
  }

  /* ç”»é¢å…¨ä½“ã‚’ãŠãŠã†åŠé€æ˜ã®èƒŒæ™¯ */
  .app-menu-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.25);
    display: none;
    align-items: flex-start;
    justify-content: flex-start;
    z-index: 999;
  }
  .app-menu-sheet {
    margin: 8px;
    max-width: 360px;
    width: 92%;
    background: #fff;
    border-radius: 12px;
    padding: 10px 12px 14px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.18);
  }
  .app-menu-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 6px;
  }
  .app-menu-title {
    font-size: 14px;
    font-weight: 600;
  }
  .app-menu-close {
    border: none;
    background: transparent;
    font-size: 16px;
    padding: 2px 4px;
    cursor: pointer;
  }
  .app-menu-section {
    margin-top: 10px;
  }
  .app-menu-section h3 {
    font-size: 13px;
    margin-bottom: 4px;
  }
  </style>
</head>
<body>
  <div class="app">
    <!-- ===== ä¸Šéƒ¨ãƒ˜ãƒƒãƒ€ãƒ¼ ===== -->
    <header>
      <div class="app-header">
        <button type="button" class="app-menu-btn" id="appMenuBtn" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
          <div class="dots-grid">
            <span></span><span></span><span></span>
            <span></span><span></span><span></span>
            <span></span><span></span><span></span>
          </div>
        </button>
        <div class="app-header-text">
          <h1>å—éƒ¨ç”ºãƒ­ãƒ¼ã‚½ãƒ³ æ¥­å‹™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h1>
          <p>æ™‚é–“å¸¯ã”ã¨ã® Aï¼å¿…é ˆ / Bï¼ä½™è£•ã‚ã‚Œã°ã€‚è¿·ã£ãŸã‚‰Aã‹ã‚‰ã€‚</p>
        </div>
      </div>
    </header>

    <!-- ç«¯æœ«ãƒ©ãƒ™ãƒ« -->
    <div class="device-label-bar">
      <span class="device-label-title">åå‰ã‚’å…¥åŠ›ï¼š</span>
      <span id="deviceLabelDisplay" class="device-label-display">æœªè¨­å®š</span>

      <input
        id="deviceLabelInput"
        class="device-label-input"
        type="text"
        placeholder="ä¾‹ï¼šãŸãªã‹"
      />
      <button id="deviceLabelSaveBtn" class="device-label-save-btn">
        ä¿å­˜
      </button>
    </div>

    <!-- ã‚·ãƒ•ãƒˆè¡¨ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ -->
    <div class="shift-shortcut">
      <button type="button" id="openShiftBtn" class="shift-btn">
        <span>ğŸ“… ã‚·ãƒ•ãƒˆè¡¨</span>
      </button>
      <span class="shift-note">
        ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã€Œä»Šé€±ã®ã‚·ãƒ•ãƒˆè¡¨ç”»åƒã€ã‚’åˆ¥ã‚¿ãƒ–ã§é–‹ãã¾ã™ã€‚
      </span>
    </div>

    <!-- æ™‚é–“å¸¯ã‚¸ãƒ£ãƒ³ãƒ—ãƒŠãƒ“ -->
    <nav class="nav">
      <a href="#t6-8">6ã€œ8æ™‚</a>
      <a href="#t9-11">9ã€œ11æ™‚</a>
      <a href="#t12-14">12ã€œ14æ™‚</a>
      <a href="#t15-17">15ã€œ17æ™‚</a>
      <a href="#t18-20">18ã€œ20æ™‚</a>
      <a href="#t21-23">21ã€œ23æ™‚</a>
      <a href="#t0-2">0ã€œ2æ™‚</a>
      <a href="#t3-5">3ã€œ5æ™‚</a>
    </nav>

    <!-- æ–‡å­—ã‚µã‚¤ã‚ºåˆ‡ã‚Šæ›¿ãˆãƒãƒ¼ -->
    <div class="font-size-selector">
      <button data-font="small">å°</button>
      <button data-font="medium">ä¸­</button>
      <button data-font="large">å¤§</button>
    </div>

    <main>
      <!-- ç¾åœ¨æ™‚åˆ»è¡¨ç¤º -->
      <div id="time-display" style="padding: 10px; color: #333;">
        æ™‚åˆ»ã‚’èª­ã¿è¾¼ã¿ä¸­â€¦
      </div>

      <!-- ä»Šã®æ™‚é–“å¸¯ã¸ã‚¸ãƒ£ãƒ³ãƒ— -->
      <div class="jump-banner">
        <div class="jump-banner-note">
          <span class="jump-banner-icon">â°</span>
          <span class="jump-banner-text">
            â€»ãŠçŸ¥ã‚‰ã›ã‚’èª­ã‚“ã ã‚‰ã€å³ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦<br class="sp-only">
            ã€Œä»Šã‚„ã‚‹æ™‚é–“å¸¯ã€ã®æ¬„ã¾ã§ç§»å‹•ã—ã¦ãã ã•ã„ã€‚
          </span>
        </div>

        <button id="jumpNowSlotBtn" class="jump-btn">
          <span class="jump-btn-main">ä»Šã®æ™‚é–“å¸¯ã¸</span>
          <span class="jump-btn-sub">ã‚¿ã‚¹ã‚¯æ¬„ã¾ã§ã‚¸ãƒ£ãƒ³ãƒ—</span>
        </button>
      </div>

      <!-- ãŠçŸ¥ã‚‰ã› -->
      <section class="slot">
        <div class="slot-header">
          <div class="slot-title">ãŠçŸ¥ã‚‰ã›</div>
          <div class="slot-note">çµŒå–¶è€…ã‹ã‚‰ã®å…±æœ‰äº‹é …</div>
        </div>
        <div class="tasks-group">
          <h3><span class="badge badge-a">ãŠçŸ¥ã‚‰ã›</span></h3>
          <ul class="info-list" id="notice-list">
            <li>ãŠçŸ¥ã‚‰ã›ã‚’èª­ã¿è¾¼ã¿ä¸­...</li>
          </ul>
        </div>
      </section>

      <!-- ===== ã“ã“ã‹ã‚‰ä¸‹ã¯è‰¯å¤ªãŒä½¿ã£ã¦ã„ãŸã‚¿ã‚¹ã‚¯ãƒ»å¼•ãç¶™ãã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãã®ã¾ã¾è²¼ã£ã¦ã‚ã‚‹ ===== -->
      <!-- 6ã€œ8æ™‚ -->
      <!-- ï¼ˆâ€»ã“ã“ã‹ã‚‰å…ˆã¯å…ƒã®ã‚³ãƒ¼ãƒ‰ã¨åŒã˜ãªã®ã§ã€ãã®ã¾ã¾è²¼ã‚Šæ›¿ãˆæ¸ˆã¿ï¼‰ -->

      <!-- 6ã€œ8æ™‚ -->
      <section id="t6-8" class="slot">
        <div class="slot-header">
          <div class="slot-title">6:00ã€œ8:00</div>
          <div class="slot-note">æœã®ç«‹ã¡ä¸Šã’</div>
        </div>

        <div class="tasks-group">
          <h3><span class="badge badge-a">A å¿…é ˆ</span> ã“ã®æ™‚é–“ã«å¿…ãšã‚„ã‚‹ã“ã¨</h3>
          <ul class="tasks a">
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">CDCç´å“ãƒ»ç‰‡ã¥ã‘ï¼ˆ2ä¾¿ï¼‰</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">ãƒ™ãƒ¼ã‚«ãƒªãƒ¼ç´å“ãƒ»ç‰‡ã¥ã‘ï¼ˆ2ä¾¿ï¼‰</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">ã‚³ãƒ¼ãƒ’ãƒ¼ãƒã‚·ãƒ³æ¸…æƒï¼ˆæœ¬ä½“ãƒ»ã‚³ãƒ³ãƒ‡ã‚£ãƒ¡ãƒ³ãƒˆä»€å™¨ãƒ»å‘¨è¾ºï¼‰</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">ãƒˆã‚¤ãƒ¬ç‚¹æ¤œ</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">ãƒãƒƒãƒˆã®ãŠæ¹¯ç¢ºèª</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">åº—å†…ãƒ»åº—é ­ã‚´ãƒŸè¢‹ã®ç‚¹æ¤œãƒ»äº¤æ›</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">æ¸©åº¦ãƒã‚§ãƒƒã‚¯</span>
              </label>
            </li>
          </ul>
        </div>

        <div class="tasks-group">
          <h3><span class="badge badge-b">B ä½™è£•</span> æ™‚é–“ãŒä½™ã£ãŸã¨ãã«ã§ããŸã‚‰åŠ©ã‹ã‚‹ã“ã¨</h3>
          <ul class="tasks b">
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">åº—å†…ãƒ»åº—é ­ã‚´ãƒŸç®±ã®æ¸…æƒ</span>
              </label>
            </li>
            <li>
              <label class="task-item">
                <input type="checkbox">
                <span class="task-text">ã‚µãƒ¼ãƒ“ã‚¹ã‚³ãƒ¼ãƒŠãƒ¼ï¼ˆLoppiãƒ»ATMãƒ»ã‚³ãƒ”ãƒ¼æ©Ÿï¼‰ãƒ»ã‚¤ãƒ¼ãƒˆã‚¤ãƒ³æ¸…æƒ</span>
              </label>
            </li>
          </ul>
        </div>
      </section>

      <!-- 6ã€œ8 å¼•ãç¶™ã -->
      <section class="slot handover-slot" data-slot="t6-8">
        <div class="slot-header">
          <div class="slot-title">å¼•ãç¶™ããƒ¡ãƒ¢ï¼ˆå…¨å“¡ã§å…±æœ‰ï¼‰</div>
          <div class="slot-note">æ™‚é–“å¸¯ã‚’ã¾ãŸãæ™‚ã®å…±æœ‰ãƒ¡ãƒ¢</div>
        </div>

        <div class="handover">
          <p class="handover-note">
            æ–‡ç« ã‚’æ›¸ãã®ãŒã ã‚‹ã„äººå‘ã‘ã€‚ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ãƒ¡ãƒ¢ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚
          </p>
          <div class="handover-chips"></div>
          <ul class="handover-log"></ul>
          <div class="handover-clear">
            <button type="button" class="handover-clear-btn">ãƒ¡ãƒ¢ã‚’å…¨éƒ¨æ¶ˆã™</button>
          </div>
        </div>
      </section>

      <!-- â˜…â˜…â˜… ã“ã“ã‹ã‚‰ä¸‹ã® 9ã€œ11 / 12ã€œ14 / 15ã€œ17 / 18ã€œ20 / 21ã€œ23 / 0ã€œ2 / 3ã€œ5 ã¨
           ãã‚Œãã‚Œã®å¼•ãç¶™ãã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€è‰¯å¤ªãŒè²¼ã£ã¦ãã‚ŒãŸå…ƒã‚³ãƒ¼ãƒ‰ã‚’
           ãã®ã¾ã¾ã‚³ãƒ”ãƒšã§å…¥ã‚Œã¦ã‚ã‚‹ï¼ˆçœç•¥ã™ã‚‹ã¨é•·ã™ãã‚‹ã®ã§ã€ã“ã®å›ç­”ã§ã¯å‰²æ„›ï¼‰ã€‚
           å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯å…ƒã®ã¾ã¾å…¨éƒ¨æ®‹ã—ã¦ãŠã„ã¦OKã€‚ â˜…â˜…â˜… -->

      <!-- ãƒ»ãƒ»ãƒ»ï¼ˆå…ƒã®å„æ™‚é–“å¸¯ã® <section> ã‚³ãƒ¼ãƒ‰ã‚’ã“ã“ã«å…¨éƒ¨æ®‹ã™ï¼‰ãƒ»ãƒ»ãƒ» -->

      <!-- ================== ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼ ================== -->
      <div class="app-menu-overlay" id="appMenuOverlay">
        <div class="app-menu-sheet">
          <div class="app-menu-header">
            <div class="app-menu-title">è¡¨ç¤ºãƒ»ã‚·ãƒ•ãƒˆè¨­å®š</div>
            <button type="button" class="app-menu-close" id="appMenuClose">âœ•</button>
          </div>

          <div class="app-menu-section">
            <h3>ã‚·ãƒ•ãƒˆè¡¨</h3>
            <button type="button" id="openShiftFromMenu" class="btn-secondary">
              ã‚·ãƒ•ãƒˆè¡¨ã‚’é–‹ã
            </button>
          </div>

          <div class="app-menu-section">
            <h3>æ–‡å­—ã®å¤§ãã•</h3>
            <div class="btn-row">
              <button type="button" data-font="small" class="btn-secondary">å°</button>
              <button type="button" data-font="medium" class="btn-secondary">ä¸­</button>
              <button type="button" data-font="large" class="btn-secondary">å¤§</button>
            </div>
          </div>
        </div>
      </div>

    </main>

    <div class="footer-note">
      è¿·ã£ãŸã‚‰ï¼šAã‚¿ã‚¹ã‚¯ â†’ å‰é™³ â†’ æ¸…æƒ ã®é †ã§å‹•ã‘ã°OKã€‚
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAPBMvTpzKCcPxLETncBqVR8fzf0cqKirc",
      authDomain: "lawson-workflow.firebaseapp.com",
      projectId: "lawson-workflow",
      storageBucket: "lawson-workflow.appspot.com",
      messagingSenderId: "335371795694",
      appId: "1:335371795694:web:3b0950a616d368b284c7ff",
      measurementId: "G-BGENZNZMRC"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function getCurrentBusinessKey() {
      const now = new Date();
      const y = now.getFullYear();
      const m = now.getMonth();
      const d = now.getDate();
      const base = new Date(y, m, d);

      if (now.getHours() < 6) {
        base.setDate(base.getDate() - 1);
      }

      const yy = base.getFullYear();
      const mm = String(base.getMonth() + 1).padStart(2, '0');
      const dd = String(base.getDate()).padStart(2, '0');
      return `${yy}-${mm}-${dd}`;
    }

    function setupDailyResetAt6AM() {
      function scheduleNextReset() {
        const now = new Date();
        const next = new Date();
        next.setHours(6, 0, 0, 0);
        if (now >= next) {
          next.setDate(next.getDate() + 1);
        }
        const ms = next - now;
        setTimeout(() => {
          location.reload();
          scheduleNextReset();
        }, ms);
      }
      scheduleNextReset();
    }

    document.addEventListener('DOMContentLoaded', () => {
      /* ===== ã‚·ãƒ•ãƒˆè¡¨URLèª­ã¿è¾¼ã¿ ===== */
      const openShiftBtn = document.getElementById('openShiftBtn');
      const openShiftFromMenu = document.getElementById('openShiftFromMenu');
      let shiftImageUrl = null;

      function loadShiftImageUrl() {
        db.collection('settings').doc('shiftSheet').get()
          .then((snap) => {
            if (!snap.exists) {
              if (openShiftBtn) {
                openShiftBtn.textContent = 'ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœªè¨­å®šï¼‰';
                openShiftBtn.disabled = true;
              }
              if (openShiftFromMenu) {
                openShiftFromMenu.textContent = 'ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœªè¨­å®šï¼‰';
                openShiftFromMenu.disabled = true;
              }
              return;
            }
            const data = snap.data() || {};
            shiftImageUrl = data.imageUrl || null;

            if (!shiftImageUrl) {
              if (openShiftBtn) {
                openShiftBtn.textContent = 'ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœªè¨­å®šï¼‰';
                openShiftBtn.disabled = true;
              }
              if (openShiftFromMenu) {
                openShiftFromMenu.textContent = 'ã‚·ãƒ•ãƒˆè¡¨ï¼ˆæœªè¨­å®šï¼‰';
                openShiftFromMenu.disabled = true;
              }
            }
          })
          .catch((err) => {
            console.error('shiftSheet èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼', err);
            if (openShiftBtn) {
              openShiftBtn.textContent = 'ã‚·ãƒ•ãƒˆè¡¨èª­ã¿è¾¼ã¿å¤±æ•—';
              openShiftBtn.disabled = true;
            }
            if (openShiftFromMenu) {
              openShiftFromMenu.textContent = 'èª­ã¿è¾¼ã¿å¤±æ•—';
              openShiftFromMenu.disabled = true;
            }
          });
      }

      function handleOpenShift() {
        if (shiftImageUrl) {
          window.open(shiftImageUrl, '_blank');
        } else {
          alert('ã¾ã ã‚·ãƒ•ãƒˆè¡¨ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nã‚ªãƒ¼ãƒŠãƒ¼ç”»é¢ã‹ã‚‰URLã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚');
        }
      }

      if (openShiftBtn) openShiftBtn.addEventListener('click', handleOpenShift);
      if (openShiftFromMenu) openShiftFromMenu.addEventListener('click', handleOpenShift);
      loadShiftImageUrl();

      /* ===== ä»Šã®æ™‚é–“å¸¯ã«ã‚¸ãƒ£ãƒ³ãƒ— ===== */
      const jumpBtn = document.getElementById('jumpNowSlotBtn');
      function getCurrentSlotIdByHour(hour) {
        if (hour >= 6 && hour < 9)  return 't6-8';
        if (hour >= 9 && hour < 12) return 't9-11';
        if (hour >= 12 && hour < 15) return 't12-14';
        if (hour >= 15 && hour < 18) return 't15-17';
        if (hour >= 18 && hour < 21) return 't18-20';
        if (hour >= 21 && hour < 24) return 't21-23';
        if (hour >= 0 && hour < 2)   return 't0-2';
        return 't3-5';
      }
      function scrollToCurrentTimeSlot() {
        const now = new Date();
        const h = now.getHours();
        const slotId = getCurrentSlotIdByHour(h);
        const el = document.getElementById(slotId);
        if (!el) return;

        setTimeout(() => {
          const header = document.querySelector('header');
          const headerHeight = header ? header.offsetHeight : 80;
          const rect = el.getBoundingClientRect();
          const targetY = rect.top + window.scrollY - headerHeight - 10;
          window.scrollTo({
            top: targetY,
            behavior: 'smooth'
          });
        }, 400);
      }
      if (jumpBtn) {
        jumpBtn.addEventListener('click', scrollToCurrentTimeSlot);
      }

      /* ===== ç«¯æœ«ãƒ©ãƒ™ãƒ« ===== */
      const DEVICE_LABEL_KEY = "nb_lawson_device_label";
      const deviceLabelDisplay = document.getElementById("deviceLabelDisplay");
      const deviceLabelInput   = document.getElementById("deviceLabelInput");
      const deviceLabelSaveBtn = document.getElementById("deviceLabelSaveBtn");
      let currentDeviceLabel = "æœªè¨­å®š";

      function loadDeviceLabel() {
        const saved = localStorage.getItem(DEVICE_LABEL_KEY);
        if (saved && saved.trim() !== "") {
          currentDeviceLabel = saved.trim();
          if (deviceLabelDisplay) deviceLabelDisplay.textContent = currentDeviceLabel;
          if (deviceLabelInput)   deviceLabelInput.value = currentDeviceLabel;
        } else {
          currentDeviceLabel = "æœªè¨­å®š";
          if (deviceLabelDisplay) deviceLabelDisplay.textContent = "æœªè¨­å®š";
        }
      }
      function saveDeviceLabel() {
        if (!deviceLabelInput) return;
        const value = deviceLabelInput.value.trim();
        if (!value) {
          alert("ç«¯æœ«ãƒ©ãƒ™ãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆä¾‹ï¼šãƒ¬ã‚¸æ¨ªiPadï¼‰");
          return;
        }
        currentDeviceLabel = value;
        localStorage.setItem(DEVICE_LABEL_KEY, value);
        if (deviceLabelDisplay) deviceLabelDisplay.textContent = value;
      }
      deviceLabelSaveBtn?.addEventListener("click", saveDeviceLabel);
      deviceLabelInput?.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          saveDeviceLabel();
        }
      });
      loadDeviceLabel();

      /* ===== ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºåˆ‡ã‚Šæ›¿ãˆï¼ˆãƒãƒ¼ï¼‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼å…±é€šï¼‰ ===== */
      const fontButtons = document.querySelectorAll('button[data-font]');
      function applyFontSize(size) {
        document.body.classList.remove('font-medium', 'font-large');
        if (size === 'medium') {
          document.body.classList.add('font-medium');
        } else if (size === 'large') {
          document.body.classList.add('font-large');
        }
        fontButtons.forEach(btn => {
          btn.classList.toggle('active', btn.dataset.font === size);
        });
        localStorage.setItem('fontSizeSetting', size);
      }
      fontButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const size = btn.dataset.font || 'small';
          applyFontSize(size);
        });
      });
      const savedSize = localStorage.getItem('fontSizeSetting') || 'small';
      applyFontSize(savedSize);

      /* ===== æœ6:00 è‡ªå‹•ãƒªã‚»ãƒƒãƒˆ ===== */
      setupDailyResetAt6AM();

      /* ===== ç¾åœ¨æ™‚åˆ»è¡¨ç¤º ===== */
      const timeDisplay = document.getElementById('time-display');
      function updateTimeDisplay() {
        if (!timeDisplay) return;
        const now = new Date();
        const jp = now.toLocaleString('ja-JP', {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          weekday: 'short',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit'
        });
        const businessKey = getCurrentBusinessKey();
        let nextReset = new Date();
        nextReset.setHours(6, 0, 0, 0);
        if (now >= nextReset) {
          nextReset.setDate(nextReset.getDate() + 1);
        }
        const nextResetStr = nextReset.toLocaleString('ja-JP', {
          month: '2-digit',
          day: '2-digit',
          weekday: 'short',
          hour: '2-digit',
          minute: '2-digit'
        });
        timeDisplay.innerHTML = `
          <div><strong>ç¾åœ¨æ™‚åˆ»ï¼š</strong> ${jp}</div>
          <div><strong>ä»Šæ—¥ã®å–¶æ¥­æ—¥ï¼š</strong> ${businessKey}ï¼ˆ6:00åˆ‡æ›¿ï¼‰</div>
          <div><strong>æ¬¡ã®ãƒªã‚»ãƒƒãƒˆï¼š</strong> ${nextResetStr}</div>
        `;
      }
      updateTimeDisplay();
      setInterval(updateTimeDisplay, 1000);

      /* ===== ã“ã“ã‹ã‚‰ä¸‹ã¯å…ƒã€…ã® Firestore åŒæœŸãƒ»å¼•ãç¶™ããƒ¡ãƒ¢ãƒ»ãŠçŸ¥ã‚‰ã›èª­ã¿è¾¼ã¿ãƒ­ã‚¸ãƒƒã‚¯ ===== */
      /* ï¼ˆè‰¯å¤ªã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å…¥ã£ã¦ã„ã‚‹ã‚‚ã®ã‚’ãã®ã¾ã¾æ®‹ã—ã¦OKã€‚
           é•·ããªã‚‹ã®ã§ã“ã®å›ç­”ã§ã¯çœç•¥ã™ã‚‹ã‘ã©ã€
           ä»Šã¾ã§ä½¿ãˆã¦ã„ãŸå‡¦ç†ã¯å…¨éƒ¨ãã®ã¾ã¾å‹•ãã‚ˆã†ã«ã—ã¦å¤§ä¸ˆå¤«ï¼‰ */

      /* ===== DMMé¢¨ ãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰ ===== */
      const appMenuBtn = document.getElementById("appMenuBtn");
      const appMenuOverlay = document.getElementById("appMenuOverlay");
      const appMenuClose = document.getElementById("appMenuClose");

      function openAppMenu() {
        if (appMenuOverlay) appMenuOverlay.style.display = "flex";
      }
      function closeAppMenu() {
        if (appMenuOverlay) appMenuOverlay.style.display = "none";
      }
      appMenuBtn?.addEventListener("click", openAppMenu);
      appMenuClose?.addEventListener("click", closeAppMenu);
      appMenuOverlay?.addEventListener("click", (e) => {
        if (e.target === appMenuOverlay) {
          closeAppMenu();
        }
      });
    });
  </script>
</body>
</html>
